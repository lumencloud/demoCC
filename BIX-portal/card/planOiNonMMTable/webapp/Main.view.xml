<mvc:View
    xmlns:core="sap.ui.core"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:table="sap.ui.table"
    xmlns:rowmodes="sap.ui.table.rowmodes"
    width="100%"
    height="100%"
    displayBlock="true"
    controllerName="bix.card.planOiNonMMTable.Main"
>
    <Panel
        expandable="false"
        expanded="true"
        width="auto"
        height="100%"
        class="sapUiNoContentPadding"
    >
        
        <content>
        <VBox fitContainer="true">
            <table:Table
                id="planOiNonMMTable1"
                rows="{path:'oAccountTableModel>/'}"
                class="custom-table-container custom-table-header custom-table-body custom-table-first-emphasis custom-uiTable-selection custom-inherit-height custom-table-rounding-border"
                selectionMode="None"
                visible="{=${uIModel>/tableKind} === 'account'}"
                fixedColumnCount="2"
                busyIndicatorDelay="0"
                visibleRowCountMode="Auto"
            >

            <table:layoutData>
                        <FlexItemData growFactor="1"/>
                    </table:layoutData>
                <table:extension>
                    <OverflowToolbar style="Clear">
                        <ToolbarSpacer />                        
                        <Select
                            change=".onUiChange"
                            width="30%"                            
                            selectedKey="{uIModel>/tableKind}"
                            items="{path: 'SelectModel>/'}"
                        >
                            <items>
                                <core:ListItem
                                    key="{SelectModel>key}"
                                    text="{SelectModel>name}"
                                />
                            </items>
                        </Select>
                    </OverflowToolbar>
                </table:extension>

                <table:columns>
                    <table:Column
                        hAlign="Center"
                        width="10rem"
                        resizable="false"
                        name="type"
                    >
                        <table:multiLabels>
                            <Label/>
                            <Label
                                text="Account"
                                wrapping="true"
                            />
                            
                        </table:multiLabels>
                        <table:template>
                            <Text
                                text="{oAccountTableModel>account_nm}"
                                tooltip="{oAccountTableModel>account_nm}"
                                wrapping="false"
                                width="100%"
                                textAlign="Center"
                            />
                        </table:template>
                    </table:Column>

                    <table:Column
                        hAlign="Center"
                        width="5rem"
                        resizable="false"
                        name="type"
                    >
                        <table:multiLabels>
                            <Label/>
                            <Label
                                text="구분"
                                wrapping="true"
                            />
                            
                        </table:multiLabels>
                        <table:template>
                            <Text
                                text="{oAccountTableModel>type}"
                                tooltip="{oAccountTableModel>type}"
                                wrapping="false"
                                width="100%"
                                textAlign="Center"
                            />
                        </table:template>
                    </table:Column>

                    <table:Column
                        hAlign="Begin"
                        headerSpan="5"
                        resizable="false"
                        width="7rem"

                    >
                        <table:multiLabels>
                            <Label
                                text="연간 추정"
                                wrapping="true"
                            />
                            <Label text="추정" textAlign="Center" width="100%"/>
                        </table:multiLabels>
                        <table:template>
                            <Text
                                text="{
                                    parts:[
                                        {path:'oAccountTableModel>forecast_value', targetType: 'any'},
                                        {value:''}

                                    ],
                                    formatter: '.onFormatPerformance'
                                }"
                                tooltip="{
                                    parts:[
                                        {path:'oAccountTableModel>forecast_value', targetType: 'any'},
                                        {value:'tooltip'}
                                    ],
                                    formatter: '.onFormatPerformance'                                
                                }"
                                wrapping="false"
                                width="100%"
                                textAlign="End"
                            />
                        </table:template>
                    </table:Column>

                    <table:Column
                        hAlign="Center"
                        width="7rem"
                        resizable="false"
                    >
                        <table:multiLabels>
                            <Label
                                text="연간 추정"
                                wrapping="false"
                            />
                            <Label
                                text="확보"
                                textAlign="Center"
                                width="100%"
                            />
                        </table:multiLabels>
                        <table:template>
                            <Text
                                text="{
                                    parts:[
                                        {path:'oAccountTableModel>secured_value', targetType: 'any'},
                                        {value:''}

                                    ],
                                    formatter: '.onFormatPerformance'
                                }"
                                tooltip="{
                                    parts:[
                                        {path:'oAccountTableModel>secured_value', targetType: 'any'},
                                        {value:'tooltip'}
                                    ],
                                    formatter: '.onFormatPerformance'                                
                                }"
                                wrapping="false"
                                width="100%"
                                textAlign="End"
                            />
                        </table:template>
                    </table:Column>

                    <table:Column
                        hAlign="Center"
                        width="7rem"
                        resizable="false"
                    >
                        <table:multiLabels>
                            <Label
                                text="연간 추정"
                                wrapping="false"
                            />
                            <Label
                                text="미확보"
                                textAlign="Center"
                                width="100%"
                            />
                        </table:multiLabels>
                        <table:template>
                            <Text
                                text="{
                                    parts:[
                                        {path:'oAccountTableModel>not_secured_value', targetType: 'any'},
                                        {value:''}
                                    ],
                                    formatter: '.onFormatPerformance'
                                }"
                                tooltip="{
                                    parts:[
                                        {path:'oAccountTableModel>not_secured_value', targetType: 'any'},
                                        {value:'tooltip'}
                                    ],
                                    formatter: '.onFormatPerformance'                                
                                }"
                                wrapping="false"
                                width="100%"
                                textAlign="End"
                            />
                        </table:template>
                    </table:Column>

                    <table:Column
                        hAlign="Center"
                        width="7rem"
                        resizable="false"
                    >
                        <table:multiLabels>
                            <Label
                                text="연간 추정"
                                wrapping="false"
                            />
                            <Label
                                text="계획비"
                                textAlign="Center"
                                width="100%"
                            />
                        </table:multiLabels>
                        <table:template>
                            <Text
                                text="{
                                    parts:[
                                        {path:'oAccountTableModel>plan_ratio', targetType: 'any'},
                                        {value:'percent'}
                                    ],
                                    formatter: '.onFormatPerformance'
                                }"
                                tooltip="{
                                    parts:[
                                        {path:'oAccountTableModel>plan_ratio', targetType: 'any'},
                                        {value:'tooltip'}
                                    ],
                                    formatter: '.onFormatPerformance'                                
                                }"
                                wrapping="false"
                                width="100%"
                                textAlign="End"
                            />
                        </table:template>
                    </table:Column>

                    <table:Column
                        hAlign="Center"
                        width="7rem"
                        resizable="false"
                    >
                        <table:multiLabels>
                            <Label
                                text="연간 추정"
                                wrapping="false"
                            />
                            <Label
                                text="전년비"
                                textAlign="Center"
                                width="100%"
                            />
                        </table:multiLabels>
                        <table:template>
                            <Text
                                text="{
                                    parts:[
                                        {path:'oAccountTableModel>yoy', targetType: 'any'},
                                        {value:'percent'}
                                    ],
                                    formatter: '.onFormatPerformance'
                                }"
                                tooltip="{
                                    parts:[
                                        {path:'oAccountTableModel>yoy', targetType: 'any'},
                                        {value:'tooltip'}
                                    ],
                                    formatter: '.onFormatPerformance'                                
                                }"
                                wrapping="false"
                                width="100%"
                                textAlign="End"
                            />
                        </table:template>
                    </table:Column>
                </table:columns>
            </table:Table>

            <table:Table
                id="planOiNonMMTable2"
                rows="{path:'oLobTableModel>/'}"
                class="custom-table-container custom-table-header custom-table-body custom-table-first-emphasis custom-uiTable-selection custom-inherit-height custom-table-rounding-border"
                selectionMode="None"
                visible="{=${uIModel>/tableKind} === 'lob'}"
                fixedColumnCount="2"
                busyIndicatorDelay="0"
                visibleRowCountMode="Auto"
            >

            <table:layoutData>
                        <FlexItemData growFactor="1"/>
                    </table:layoutData>
                    
                <table:extension>
                    <OverflowToolbar style="Clear">
                        <ToolbarSpacer />                        
                        <Select
                            change=".onUiChange"
                            width="30%"                            
                            selectedKey="{uIModel>/tableKind}"
                            items="{path: 'SelectModel>/'}"
                        >
                            <items>
                                <core:ListItem
                                    key="{SelectModel>key}"
                                    text="{SelectModel>name}"
                                />
                            </items>
                        </Select>
                    </OverflowToolbar>
                </table:extension>

                <table:columns>
                    <table:Column
                        hAlign="Center"
                        width="10rem"
                        resizable="false"
                        name="type"
                    >
                        <table:multiLabels>
                            <Label/>
                            <Label
                                text="Account"
                                wrapping="true"
                            />
                            
                        </table:multiLabels>
                        <table:template>
                            <Text
                                text="{oLobTableModel>org_id}"
                                tooltip="{oLobTableModel>org_id}"
                                wrapping="false"
                                width="100%"
                                textAlign="Center"
                            />
                        </table:template>
                    </table:Column>

                    <table:Column
                        hAlign="Center"
                        width="5rem"
                        resizable="false"
                        name="type"
                    >
                        <table:multiLabels>
                            <Label/>
                            <Label
                                text="구분"
                                wrapping="true"
                            />
                            
                        </table:multiLabels>
                        <table:template>
                            <Text
                                text="{oLobTableModel>type}"
                                tooltip="{oLobTableModel>type}"
                                wrapping="false"
                                width="100%"
                                textAlign="Center"
                            />
                        </table:template>
                    </table:Column>

                    <table:Column
                        hAlign="Begin"
                        headerSpan="5"
                        resizable="false"
                        width="7rem"

                    >
                        <table:multiLabels>
                            <Label
                                text="연간 추정"
                                wrapping="true"
                            />
                            <Label text="추정" textAlign="Center" width="100%"/>
                        </table:multiLabels>
                        <table:template>
                            <Text
                                text="{
                                    parts:[
                                        {path:'oLobTableModel>forecast_value', targetType: 'any'},
                                        {value:''}

                                    ],
                                    formatter: '.onFormatPerformance'
                                }"
                                tooltip="{
                                    parts:[
                                        {path:'oLobTableModel>forecast_value', targetType: 'any'},
                                        {value:'tooltip'}
                                    ],
                                    formatter: '.onFormatPerformance'                                
                                }"
                                wrapping="false"
                                width="100%"
                                textAlign="End"
                            />
                        </table:template>
                    </table:Column>

                    <table:Column
                        hAlign="Center"
                        width="7rem"
                        resizable="false"
                    >
                        <table:multiLabels>
                            <Label
                                text="연간 추정"
                                wrapping="false"
                            />
                            <Label
                                text="확보"
                                textAlign="Center"
                                width="100%"
                            />
                        </table:multiLabels>
                        <table:template>
                            <Text
                                text="{
                                    parts:[
                                        {path:'oLobTableModel>secured_value', targetType: 'any'},
                                        {value:''}

                                    ],
                                    formatter: '.onFormatPerformance'
                                }"
                                tooltip="{
                                    parts:[
                                        {path:'oLobTableModel>secured_value', targetType: 'any'},
                                        {value:'tooltip'}
                                    ],
                                    formatter: '.onFormatPerformance'                                
                                }"
                                wrapping="false"
                                width="100%"
                                textAlign="End"
                            />
                        </table:template>
                    </table:Column>

                    <table:Column
                        hAlign="Center"
                        width="7rem"
                        resizable="false"
                    >
                        <table:multiLabels>
                            <Label
                                text="연간 추정"
                                wrapping="false"
                            />
                            <Label
                                text="미확보"
                                textAlign="Center"
                                width="100%"
                            />
                        </table:multiLabels>
                        <table:template>
                            <Text
                                text="{
                                    parts:[
                                        {path:'oLobTableModel>not_secured_value', targetType: 'any'},
                                        {value:''}
                                    ],
                                    formatter: '.onFormatPerformance'
                                }"
                                tooltip="{
                                    parts:[
                                        {path:'oLobTableModel>not_secured_value', targetType: 'any'},
                                        {value:'tooltip'}
                                    ],
                                    formatter: '.onFormatPerformance'                                
                                }"
                                wrapping="false"
                                width="100%"
                                textAlign="End"
                            />
                        </table:template>
                    </table:Column>

                    <table:Column
                        hAlign="Center"
                        width="7rem"
                        resizable="false"
                    >
                        <table:multiLabels>
                            <Label
                                text="연간 추정"
                                wrapping="false"
                            />
                            <Label
                                text="계획비"
                                textAlign="Center"
                                width="100%"
                            />
                        </table:multiLabels>
                        <table:template>
                            <Text
                                text="{
                                    parts:[
                                        {path:'oLobTableModel>plan_ratio', targetType: 'any'},
                                        {value:'percent'}
                                    ],
                                    formatter: '.onFormatPerformance'
                                }"
                                tooltip="{
                                    parts:[
                                        {path:'oLobTableModel>plan_ratio', targetType: 'any'},
                                        {value:'tooltip'}
                                    ],
                                    formatter: '.onFormatPerformance'                                
                                }"
                                wrapping="false"
                                width="100%"
                                textAlign="End"
                            />
                        </table:template>
                    </table:Column>

                    <table:Column
                        hAlign="Center"
                        width="7rem"
                        resizable="false"
                    >
                        <table:multiLabels>
                            <Label
                                text="연간 추정"
                                wrapping="false"
                            />
                            <Label
                                text="전년비"
                                textAlign="Center"
                                width="100%"
                            />
                        </table:multiLabels>
                        <table:template>
                            <Text
                                text="{
                                    parts:[
                                        {path:'oLobTableModel>yoy', targetType: 'any'},
                                        {value:'percent'}
                                    ],
                                    formatter: '.onFormatPerformance'
                                }"
                                tooltip="{
                                    parts:[
                                        {path:'oLobTableModel>yoy', targetType: 'any'},
                                        {value:'tooltip'}
                                    ],
                                    formatter: '.onFormatPerformance'                                
                                }"
                                wrapping="false"
                                width="100%"
                                textAlign="End"
                            />
                        </table:template>
                    </table:Column>
                </table:columns>
            </table:Table>


            
        </VBox>
        </content>
    </Panel>
</mvc:View>
